# 📝 추천 질문 개선 예시

## 🚫 현재 문제점

### Leonard Graves
```json
❌ "만약 이 역을 지키기 위해 누군가를 막아야 했다면… 그건 정당하다고 생각하십니까?"
```
→ 범인일 때의 동기(역을 지키기)를 대놓고 암시

```json
❌ "역을 사랑하신다고 들었습니다. 그런데 그의 기사 이후, 역의 평판이 많이 바뀌었죠?"
```
→ 기사와 범행 동기를 직접 연결

### Clara Hwang
```json
❌ "그 기자 분이 예전에 당신 사진을 올린 일… 아직도 마음에 남아있나요?"
```
→ 범인일 때의 트라우마 동기를 대놓고 암시

### Walter Briggs
```json
❌ "피해자와 언쟁을 벌이셨다는 목격이 있습니다. 무슨 일이 있었던 겁니까?"
```
→ 이미 범인인 것처럼 가정하는 질문

---

## ✅ 개선된 추천 질문 구조

### 카테고리별 질문 분류

#### 1️⃣ **공통 질문** (모든 용의자에게 동일)
```json
{
  "common_questions": [
    "그날 밤 몇 시에 역에 계셨나요?",
    "피해자 Elias Cole을 본 적이 있나요?",
    "11시 50분쯤 어디에 계셨나요?",
    "역에서 수상한 사람이나 소리를 들으셨나요?",
    "그날 밤 다른 사람과 대화하셨나요?"
  ]
}
```

#### 2️⃣ **배경 탐색 질문** (용의자의 직업/상황 기반)

##### Leonard Graves (역무원)
```json
{
  "background_questions": [
    "야간 근무 중 주로 어떤 일을 하시나요?",
    "역 조명 시스템은 어떻게 작동하나요?",
    "그날 밤 역을 폐쇄한 시간은 몇 시였나요?",
    "막차 이후에도 역에 남아계신 적이 있나요?",
    "역무실 시스템에 접근할 수 있는 사람은 누구인가요?"
  ]
}
```

##### Clara Hwang (간병인)
```json
{
  "background_questions": [
    "병원 근무는 몇 시에 끝나나요?",
    "매일 막차를 타고 귀가하시나요?",
    "막차를 놓치신 적은 없으신가요?",
    "병원에서 어떤 업무를 담당하시나요?",
    "가방에는 주로 무엇을 넣고 다니시나요?"
  ]
}
```

##### Walter Briggs (전직 기관사/노숙자)
```json
{
  "background_questions": [
    "역에서 주로 어디에서 시간을 보내시나요?",
    "기관사 시절 이 역에서 근무하셨나요?",
    "전력 장치 구역에 대해 알고 계신가요?",
    "그날 밤은 어디서 주무셨나요?",
    "역 주변 사람들과 친분이 있으신가요?"
  ]
}
```

#### 3️⃣ **시간대 교차 검증 질문**
```json
{
  "timeline_questions": [
    "11시 30분 막차가 떠날 때 어디 계셨나요?",
    "11시 40분쯤에는 무엇을 하고 계셨나요?",
    "11시 50분에 누군가를 봤거나 목소리를 들으셨나요?",
    "자정 무렵에는 어디에 계셨습니까?",
    "그 시간대에 당신을 봤을 만한 사람이 있나요?"
  ]
}
```

#### 4️⃣ **증거 기반 질문** (중간 보고 이후)
```json
{
  "evidence_follow_up": {
    "leonard": [
      "11시 50분 열차는 운행되지 않았는데, 이런 티켓이 어떻게 발행될 수 있나요?",
      "역무 시스템에서 티켓을 인쇄할 수 있는 사람은 누구인가요?",
      "보관창고 열쇠는 누가 관리하나요?"
    ],
    "walter": [
      "전력 장치 구역은 출입이 제한된 곳인데, 들어가본 적 있으신가요?",
      "기계 오일이 묻을 만한 곳에 계신 적이 있나요?",
      "기관사 시절 그 구역에서 작업하셨나요?"
    ],
    "clara": [
      "병원에서 의료용 가위를 사용하시나요?",
      "가방에 가위를 넣고 다니신 적이 있나요?",
      "그날 밤 가방을 잃어버리거나 두고 온 적은 없으신가요?"
    ]
  }
}
```

---

## 📊 개선 전후 비교

### Leonard Graves

| 항목 | Before ❌ | After ✅ |
|------|----------|---------|
| **동기 암시** | "역을 지키기 위해 누군가를 막아야 했다면 정당한가?" | "역 폐쇄 결정에 대해 어떻게 생각하시나요?" |
| **범인 가정** | "기사 이후 역의 평판이 바뀌었죠?" | "피해자가 이 역에 대한 기사를 썼다는 걸 알고 계셨나요?" |
| **자연스러움** | "보관창고 열쇠는 항상 본인이?" | "보관창고는 어떤 용도로 사용되나요?" |

### Clara Hwang

| 항목 | Before ❌ | After ✅ |
|------|----------|---------|
| **트라우마 암시** | "그 기자가 당신 사진을 올린 일, 아직도 마음에?" | "병원 근무는 힘들지 않으신가요?" |
| **범인 가정** | "막차 기다리던 다른 사람은?" | "막차를 탄 후 바로 귀가하셨나요?" |

### Walter Briggs

| 항목 | Before ❌ | After ✅ |
|------|----------|---------|
| **선입견** | "피해자와 언쟁을 벌이셨다는 목격이 있습니다" | "그날 밤 역 안에서 대화 소리를 들으셨나요?" |
| **범인 가정** | "기자가 당신 이야기를 기사로 쓴 걸 알고 계셨나요?" | "역 주변에 기자가 취재 온다는 걸 알고 계셨나요?" |

---

## 🎯 질문 설계 원칙

### ✅ DO
1. **중립적 시작**: "그날 밤 어디 계셨나요?"
2. **사실 확인**: "막차 시간은 몇 시인가요?"
3. **시간대별 교차 검증**: "11시 30분에는? 11시 50분에는?"
4. **배경 탐색**: "평소에는 어떤 일을 하시나요?"
5. **증거 기반 재질문**: "이 티켓에 대해 아시는 게 있나요?"

### ❌ DON'T
1. **동기 암시**: "역을 지키고 싶었나요?"
2. **감정 자극**: "원한이 있었나요?"
3. **범인 가정**: "언쟁을 벌이셨다는 목격이..."
4. **유도 질문**: "가위를 들고 다니셨죠?"
5. **트라우마 직접 건드림**: "그 사건 이후 힘드셨죠?"

---

## 💡 구현 예시: Leonard Graves 완성본

```json
{
  "recommended_questions": [
    "그날 밤 몇 시에 역에 계셨나요?",
    "야간 근무 중 주로 어떤 일을 하시나요?",
    "역 조명은 몇 시에 소등하나요?",
    "그날 밤 역을 폐쇄한 시간은 정확히 몇 시였습니까?",
    "11시 50분쯤 어디에 계셨나요?",
    "막차 이후에도 역에 남아계신 적이 있나요?",
    "피해자 Elias Cole을 본 적이 있나요?",
    "역무실 시스템에 접근할 수 있는 사람은 누구인가요?",
    "보관창고는 어떤 용도로 사용되나요?",
    "그날 밤 역에서 다른 사람을 봤거나 소리를 들으셨나요?"
  ],
  
  "evidence_follow_up_questions": [
    "11시 50분 열차는 운행되지 않았는데, 이런 티켓이 어떻게 발행될 수 있나요?",
    "역무 시스템에서 과거 시간의 티켓을 인쇄할 수 있나요?",
    "그날 밤 역무실에 다른 사람이 들어온 적이 있나요?"
  ]
}
```

---

## 🎮 플레이 시나리오: 모순 발견 예시

### 시나리오 1: Leonard가 범인일 때

**1단계: 기본 질문**
```
User: "그날 밤 11시 50분에 어디 계셨나요?"
Leonard (범인): "역 주변을 최종 점검하고 있었습니다."
```

**2단계: 교차 검증**
```
User: (Walter에게) "11시 50분쯤 역무실 불이 켜져 있었나요?"
Walter: "아니, 역무실은 어두웠소. 10시쯤 불이 꺼진 것 같더군."
```

**3단계: 모순 발견**
```
Leonard는 "역 주변 점검"이라고 했지만,
Walter는 "역무실이 어두웠다"고 증언
→ Leonard가 역무실에 없었다는 증거!
```

**4단계: 증거와 연결**
```
Nathan: "11시 50분 티켓이 발견되었습니다. 역무 시스템 접근이 필요합니다."
→ Leonard만이 티켓을 위조할 수 있음!
```

---

## 📋 구현 체크리스트

### Immediate (즉시 적용 가능)
- [x] Nathan 증거 보고 수정 (해석 제거)
- [x] 프롬프트 강화 (방어적 태도 추가)
- [ ] 추천 질문 3가지만 우선 수정 (각 용의자)

### Short-term (데이터 작업 필요)
- [ ] `recommended_questions` 전체 교체
- [ ] `evidence_follow_up_questions` 섹션 추가
- [ ] 시간대별 알리바이 일관성 검토

### Long-term (시스템 개선)
- [ ] `contradiction_points` 자동 체크 시스템
- [ ] 대화 이력 기반 모순 지적 기능
- [ ] 교차 검증 힌트 제공 시스템

---

## 🎯 다음 단계

1. **즉시**: 각 용의자별로 추천 질문 3개만 수정하여 테스트
2. **단기**: 전체 knowledge.json 재작성
3. **장기**: 모순 탐지 시스템 구현

추천 질문만 수정해도 게임의 난이도와 몰입감이 크게 개선될 것입니다! 🎮

